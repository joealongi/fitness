<!-- Experience Section -->
<section
  id="experience-section"
  style="
    padding: 5rem 2rem;
    background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
    position: relative;
  "
>
  <div style="max-width: 1200px; margin: 0 auto">
    <div style="text-align: center; margin-bottom: 3rem">
      <h2 style="font-size: 2.5rem; font-weight: 700; color: white; margin-bottom: 1rem">
        Experience Airwave
      </h2>
      <p
        style="
          font-size: 1.125rem;
          color: rgba(255, 255, 255, 0.7);
          max-width: 600px;
          margin: 0 auto;
        "
      >
        Try our VO2 max calculator and see how AI-powered fitness analytics can transform your
        training.
      </p>
    </div>

    <!-- Centered Demo Calculator -->
    <div style="max-width: 600px; margin: 0 auto">
      <div
        style="
          background: rgba(255, 255, 255, 0.05);
          backdrop-filter: blur(20px);
          border: 1px solid rgba(255, 255, 255, 0.1);
          border-radius: 1rem;
          padding: 2rem;
        "
      >
        <h3
          style="
            font-size: 1.5rem;
            font-weight: 600;
            color: white;
            margin-bottom: 1.5rem;
            text-align: center;
          "
        >
          VO2 Max Calculator
        </h3>

        <!-- Demo Badge -->
        <div
          style="
            background: linear-gradient(135deg, #f3f4f6, #e5e7eb);
            padding: 0.75rem;
            border-radius: 0.5rem;
            text-align: center;
            margin-bottom: 1.5rem;
          "
        >
          <span style="color: #374151; font-weight: 600; font-size: 0.875rem">
            Free Demo - No Signup Required
          </span>
        </div>

        <form
          (ngSubmit)="calculateDemoVO2Max()"
          style="display: flex; flex-direction: column; gap: 1rem"
        >
          <div>
            <label
              style="
                display: block;
                color: rgba(255, 255, 255, 0.8);
                font-size: 0.875rem;
                font-weight: 500;
                margin-bottom: 0.5rem;
              "
              >Activity Type</label
            >
            <select
              [(ngModel)]="demoWorkout.activity_type"
              name="activity_type"
              style="
                width: 100%;
                padding: 0.75rem;
                background: rgba(255, 255, 255, 0.1);
                border: 1px solid rgba(255, 255, 255, 0.2);
                border-radius: 0.5rem;
                color: white;
                font-size: 1rem;
                -webkit-appearance: none;
                -moz-appearance: none;
                appearance: none;
                background-image: url('data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 24 24%22 fill=%22none%22 stroke=%22white%22 stroke-width=%222%22 stroke-linecap=%22round%22 stroke-linejoin=%22round%22%3e%3cpolyline points=%226,9 12,15 18,9%22%3e%3c/polyline%3e%3c/svg%3e');
                background-repeat: no-repeat;
                background-position: right 0.75rem center;
                background-size: 1rem;
                padding-right: 2.5rem;
              "
            >
              <option value="run">Run</option>
              <option value="cycle">Cycle</option>
              <option value="walk">Walk</option>
            </select>
          </div>

          <div>
            <label
              style="
                display: block;
                color: rgba(255, 255, 255, 0.8);
                font-size: 0.875rem;
                font-weight: 500;
                margin-bottom: 0.5rem;
              "
              >Duration (minutes)</label
            >
            <input
              type="number"
              [(ngModel)]="demoWorkout.duration"
              name="duration"
              style="
                width: 100%;
                padding: 0.75rem;
                background: rgba(255, 255, 255, 0.1);
                border: 1px solid rgba(255, 255, 255, 0.2);
                border-radius: 0.5rem;
                color: white;
                font-size: 1rem;
              "
              placeholder="30"
              required
            />
          </div>

          <div>
            <label
              style="
                display: block;
                color: rgba(255, 255, 255, 0.8);
                font-size: 0.875rem;
                font-weight: 500;
                margin-bottom: 0.5rem;
              "
              >Distance (km)</label
            >
            <input
              type="number"
              step="0.1"
              [(ngModel)]="demoWorkout.distance"
              name="distance"
              style="
                width: 100%;
                padding: 0.75rem;
                background: rgba(255, 255, 255, 0.1);
                border: 1px solid rgba(255, 255, 255, 0.2);
                border-radius: 0.5rem;
                color: white;
                font-size: 1rem;
              "
              placeholder="5.0"
              required
            />
          </div>

          <button
            type="submit"
            style="
              width: 100%;
              padding: 0.75rem;
              background: linear-gradient(135deg, #ef4444, #dc2626);
              color: white;
              border: none;
              border-radius: 0.5rem;
              font-size: 1rem;
              font-weight: 600;
              cursor: pointer;
              transition: all 0.2s ease;
              margin-top: 1rem;
            "
            onmouseover="this.style.transform='translateY(-1px)'"
            onmouseout="this.style.transform='translateY(0)'"
          >
            Calculate VO2 Max (Demo)
          </button>
        </form>

        <!-- Demo Results -->
        @if (workoutResult && workoutResult.method === 'demo_calculator') {
        <div
          style="
            margin-top: 1.5rem;
            padding: 1.5rem;
            background: rgba(15, 23, 42, 0.8);
            border-radius: 0.75rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
          "
        >
          <h4
            style="
              color: white;
              margin-bottom: 1rem;
              font-size: 1.125rem;
              text-align: center;
              font-weight: 600;
            "
          >
            Your Demo Results
          </h4>

          @if (workoutResult.error) {
          <div style="color: #ef4444; font-size: 0.875rem; text-align: center">
            {{ workoutResult.error }}
          </div>
          } @else {
          <div style="display: flex; flex-direction: column; gap: 1rem">
            <div
              style="
                background: linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(220, 38, 38, 0.1));
                padding: 1rem;
                border-radius: 0.5rem;
                border: 1px solid rgba(239, 68, 68, 0.2);
                text-align: center;
              "
            >
              <div
                style="
                  font-size: 0.875rem;
                  color: #991b1b;
                  font-weight: 500;
                  margin-bottom: 0.25rem;
                "
              >
                Estimated VO2 Max
              </div>
              <div style="font-size: 2rem; font-weight: 700; color: #dc2626">
                {{
                  workoutResult.vo2max_estimate
                    ? (workoutResult.vo2max_estimate | number : '1.1-1')
                    : 'N/A'
                }}
                <span style="font-size: 1rem; color: #7f1d1d">mL/kg/min</span>
              </div>
            </div>

            <div
              style="
                background: linear-gradient(
                  135deg,
                  rgba(156, 163, 175, 0.1),
                  rgba(107, 114, 128, 0.1)
                );
                padding: 1rem;
                border-radius: 0.5rem;
                border: 1px solid rgba(156, 163, 175, 0.2);
              "
            >
              <div
                style="font-size: 0.875rem; color: #6b7280; font-weight: 500; margin-bottom: 0.5rem"
              >
                Health Benefits
              </div>
              <div style="color: #374151; font-size: 0.875rem; line-height: 1.4">
                {{ workoutResult.benefits }}
              </div>
            </div>
          </div>
          }
        </div>
        }
      </div>
    </div>

    <!-- Authentication Section -->
    <div id="auth-section" style="text-align: center; margin-bottom: 3rem">
      <h2 style="font-size: 2.5rem; font-weight: 700; color: white; margin-bottom: 1rem">
        Ready to Save Your Progress?
      </h2>
      <p
        style="
          font-size: 1.125rem;
          color: rgba(255, 255, 255, 0.7);
          max-width: 600px;
          margin: 0 auto 2rem auto;
        "
      >
        Create a free account to track your workouts over time and unlock premium AI-powered
        insights.
      </p>
    </div>

    <div
      style="
        max-width: 500px;
        margin: 0 auto;
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 1rem;
        padding: 2rem;
        transition: transform 0.2s ease;
      "
      onmouseover="this.style.transform='translateY(-4px)'"
      onmouseout="this.style.transform='translateY(0)'"
    >
      <div
        style="
          display: flex;
          margin-bottom: 2rem;
          border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        "
      >
        <button
          (click)="activeAuthTab = 'login'"
          style="flex: 1; padding: 0.75rem; background: transparent; color: white; border: none; font-size: 1rem; font-weight: 600; cursor: pointer; transition: all 0.2s ease; border-bottom: 3px solid {{
            activeAuthTab === 'login' ? '#ef4444' : 'transparent'
          }};"
        >
          Sign In
        </button>
        <button
          (click)="activeAuthTab = 'register'"
          style="flex: 1; padding: 0.75rem; background: transparent; color: white; border: none; font-size: 1rem; font-weight: 600; cursor: pointer; transition: all 0.2s ease; border-bottom: 3px solid {{
            activeAuthTab === 'register' ? '#ef4444' : 'transparent'
          }};"
        >
          Create Account
        </button>
      </div>

      @if (activeAuthTab === 'login') {
      <h3
        style="
          font-size: 1.5rem;
          font-weight: 600;
          color: white;
          margin-bottom: 1.5rem;
          text-align: center;
        "
      >
        Welcome Back
      </h3>
      <form (ngSubmit)="login()" style="display: flex; flex-direction: column; gap: 1rem">
        <div>
          <label
            style="
              display: block;
              color: rgba(255, 255, 255, 0.8);
              font-size: 0.875rem;
              font-weight: 500;
              margin-bottom: 0.5rem;
            "
            >Username</label
          >
          <input
            type="text"
            [(ngModel)]="loginData.username"
            name="username"
            style="
              width: 100%;
              padding: 0.75rem;
              background: rgba(255, 255, 255, 0.1);
              border: 1px solid rgba(255, 255, 255, 0.2);
              border-radius: 0.5rem;
              color: white;
              font-size: 1rem;
            "
            placeholder="Enter your username"
            required
          />
        </div>
        <div>
          <label
            style="
              display: block;
              color: rgba(255, 255, 255, 0.8);
              font-size: 0.875rem;
              font-weight: 500;
              margin-bottom: 0.5rem;
            "
            >Password</label
          >
          <input
            type="password"
            [(ngModel)]="loginData.password"
            name="password"
            style="
              width: 100%;
              padding: 0.75rem;
              background: rgba(255, 255, 255, 0.1);
              border: 1px solid rgba(255, 255, 255, 0.2);
              border-radius: 0.5rem;
              color: white;
              font-size: 1rem;
            "
            placeholder="Enter your password"
            required
          />
        </div>
        <button
          type="submit"
          style="
            width: 100%;
            padding: 0.75rem;
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: white;
            border: none;
            border-radius: 0.5rem;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-top: 1rem;
          "
          onmouseover="this.style.transform='translateY(-1px)'"
          onmouseout="this.style.transform='translateY(0)'"
        >
          {{ loginLoading ? 'Signing in...' : 'Sign In' }}
        </button>
      </form>
      <div
        *ngIf="loginError"
        style="color: #ef4444; font-size: 0.875rem; margin-top: 1rem; text-align: center"
      >
        {{ loginError }}
      </div>
      } @if (activeAuthTab === 'register') {
      <h3
        style="
          font-size: 1.5rem;
          font-weight: 600;
          color: white;
          margin-bottom: 1.5rem;
          text-align: center;
        "
      >
        Create Account
      </h3>
      <form (ngSubmit)="register()" style="display: flex; flex-direction: column; gap: 1rem">
        <div>
          <label
            style="
              display: block;
              color: rgba(255, 255, 255, 0.8);
              font-size: 0.875rem;
              font-weight: 500;
              margin-bottom: 0.5rem;
            "
            >Username</label
          >
          <input
            type="text"
            [(ngModel)]="registerData.username"
            name="username"
            style="
              width: 100%;
              padding: 0.75rem;
              background: rgba(255, 255, 255, 0.1);
              border: 1px solid rgba(255, 255, 255, 0.2);
              border-radius: 0.5rem;
              color: white;
              font-size: 1rem;
            "
            placeholder="Choose a username"
            required
          />
        </div>
        <div>
          <label
            style="
              display: block;
              color: rgba(255, 255, 255, 0.8);
              font-size: 0.875rem;
              font-weight: 500;
              margin-bottom: 0.5rem;
            "
            >Email</label
          >
          <input
            type="email"
            [(ngModel)]="registerData.email"
            name="email"
            style="
              width: 100%;
              padding: 0.75rem;
              background: rgba(255, 255, 255, 0.1);
              border: 1px solid rgba(255, 255, 255, 0.2);
              border-radius: 0.5rem;
              color: white;
              font-size: 1rem;
            "
            placeholder="Enter your email"
            required
          />
        </div>
        <div>
          <label
            style="
              display: block;
              color: rgba(255, 255, 255, 0.8);
              font-size: 0.875rem;
              font-weight: 500;
              margin-bottom: 0.5rem;
            "
            >Password</label
          >
          <input
            type="password"
            [(ngModel)]="registerData.password"
            name="password"
            style="
              width: 100%;
              padding: 0.75rem;
              background: rgba(255, 255, 255, 0.1);
              border: 1px solid rgba(255, 255, 255, 0.2);
              border-radius: 0.5rem;
              color: white;
              font-size: 1rem;
            "
            placeholder="Create a password"
            required
          />
        </div>
        <button
          type="submit"
          style="
            width: 100%;
            padding: 0.75rem;
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: white;
            border: none;
            border-radius: 0.5rem;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-top: 1rem;
          "
          onmouseover="this.style.transform='translateY(-1px)'"
          onmouseout="this.style.transform='translateY(0)'"
        >
          {{ registerLoading ? 'Creating account...' : 'Create Account' }}
        </button>
      </form>
      <div
        *ngIf="registerError"
        style="color: #ef4444; font-size: 0.875rem; margin-top: 1rem; text-align: center"
      >
        {{ registerError }}
      </div>
      }
    </div>
  </div>
</section>
